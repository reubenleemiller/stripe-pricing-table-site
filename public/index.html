<!DOCTYPE html>
<html lang="en">
<head>
<script>
  document.documentElement.classList.add('preloader-lock');
</script>
<style>
  html.preloader-lock main {
    display: none !important;
  }
</style>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Stripe Session Packages</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body class="locked">
<!-- Site Preloader -->
<div id="site-preloader" class="">
  <div class="preloader-spinner-wrapper">
    <div class="custom-spinner">
      <div></div>
    </div>
    <img src="assets/logo.png" alt="RM Tutoring Services Logo" class="preloader-logo" />
  </div>
</div>
<main>
  <div class="info-container">
    <div class="info-box">
      <h2><strong>Welcome!</strong> Here's how it works:</h2>
      <p>
        1. <strong>Select your session package</strong> below (4, 8, or 12 hours)<br>
        2. <strong>Pay securely</strong> through Stripe<br>
        3. <strong>After payment</strong>, you'll be sent to a confirmation page<br>
        4. There you'll find <strong>booking links</strong> to schedule your sessions — <em>the same number as you paid for</em>!
      </p>
      <p><strong>That’s it!</strong> You’re just a few clicks away from getting started.</p>

      <div class="pricing-heading-wrapper"><h1 class="centered-title">Choose Your Tutoring Package</h1></div>
      <div style="text-align: center;"><p><strong>Note:</strong> The large blue “Pay Now” buttons are for <em>one-time purchases only</em>. If you'd like to be billed automatically every month, choose the “Subscribe Monthly” option underneath instead.</p></div>
      <div class="pricing-container">

<div class="pricing-card">
  <div class="title">Session Package (4hrs)</div>
  <div class="price">CA$160</div>
  <div class="link_wrapper">
    <a href="https://pay.rmtutoringservices.com/b/fZubJ10rje8h7KO1Tt9sk00" class="pay-button"><i class="fas fa-credit-card"></i> Pay Now</a>
    <div class="icon"><i class="fas fa-credit-card" style="transform: rotate(-45deg); font-size: 1.25rem; color: #0a66c2;"></i></div>
  </div>
  <a href="https://pay.rmtutoringservices.com/b/14AcN5fmd2pzaX0gOn9sk03" class="subscribe-button">Subscribe Monthly</a>
</div>

<div class="pricing-card recommended">
  <div class="recommended-label">Recommended</div>
  <div class="title">Session Package (8hrs)</div>
  <div class="price">CA$320</div>
  <div class="link_wrapper">
    <a href="https://pay.rmtutoringservices.com/b/9B6bJ1a1Tc090im55F9sk01" class="pay-button"><i class="fas fa-credit-card"></i> Pay Now</a>
    <div class="icon"><i class="fas fa-credit-card" style="transform: rotate(-45deg); font-size: 1.25rem; color: #0a66c2;"></i></div>
  </div>
  <a href="https://pay.rmtutoringservices.com/b/3cI5kD6PH5BLaX0gOn9sk04" class="subscribe-button">Subscribe Monthly</a>
</div>

<div class="pricing-card">
  <div class="title">Session Package (12hrs)</div>
  <div class="price">CA$480</div>
  <div class="link_wrapper">
    <a href="https://pay.rmtutoringservices.com/b/14A4gz4Hz3tDaX069J9sk02" class="pay-button"><i class="fas fa-credit-card"></i> Pay Now</a>
    <div class="icon"><i class="fas fa-credit-card" style="transform: rotate(-45deg); font-size: 1.25rem; color: #0a66c2;"></i></div>
  </div>
  <a href="https://pay.rmtutoringservices.com/b/bJeaEX6PH7JT2queGf9sk05" class="subscribe-button">Subscribe Monthly</a>
</div>
</div>
</div>
</div>
</main>
<script>
  const preloader = document.getElementById('site-preloader');
  const FADE_DURATION = 500;
  const MIN_DISPLAY = 750;

  let preloaderShown = false;
  let preloaderStart = Date.now();

  function showPreloader(force = false) {
    if (preloaderShown && !force) return;
    preloaderShown = true;

    document.body.classList.add('locked');
    preloader.classList.add('visible');
    preloader.classList.remove('hidden');
    document.documentElement.classList.add('preloader-lock');
    preloaderStart = Date.now();
  }

  function hidePreloader(callback) {
    const elapsed = Date.now() - preloaderStart;
    const remaining = Math.max(MIN_DISPLAY - elapsed, 0);

    setTimeout(() => {
      preloader.classList.remove('visible');
      preloader.classList.add('hidden');

      setTimeout(() => {
        document.body.classList.remove('locked');
        document.body.classList.add('unlocked');
        document.documentElement.classList.remove('preloader-lock');
        const main = document.querySelector('main');
        if (main) main.style.display = 'block';
        if (typeof callback === 'function') callback();
      }, FADE_DURATION);
    }, remaining);
  }

  // Standard DOM load preloader
  document.addEventListener('DOMContentLoaded', () => {
    showPreloader(true);
  });

  window.addEventListener('pageshow', (e) => {
    if (e.persisted) showPreloader(true);
    hidePreloader();
  });

  window.addEventListener('load', () => {
    hidePreloader();
  });

  setTimeout(() => {
    if (!preloader.classList.contains('hidden')) hidePreloader();
  }, 5000);

  // Intercept and delay link navigation
  document.addEventListener('click', (e) => {
    const el = e.target.closest('a[href]:not([target="_blank"])');
    if (!el) return;

    const href = el.getAttribute('href');
    if (!href || href.startsWith('#') || href === window.location.href) return;

    // Prevent default nav
    e.preventDefault();
    showPreloader(true);

    hidePreloader(() => {
      window.location.href = href;
    });
  });

  window.addEventListener('beforeunload', () => {
    preloaderShown = false;
  });
</script>
</body>
</html>
